<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>å®šä½é™¤éŒ¯æœ€å°ç‰ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <h2>ğŸ“ iPhone å®šä½é™¤éŒ¯ï¼ˆæœ€å°å¯é‹ä½œç‰ˆï¼‰</h2>
  <button id="btn">é–‹å§‹å®šä½</button>
  <pre id="out"></pre>

  <script>
    const out = document.getElementById('out');
    const btn = document.getElementById('btn');

    function log(msg) {
      out.textContent += msg + '\n';
    }

    btn.onclick = () => {
      out.textContent = '';
      log('é»æ“ŠæŒ‰éˆ•');
      log('geolocation æ˜¯å¦å­˜åœ¨: ' + !!navigator.geolocation);

      if (!navigator.geolocation) {
        log('âŒ ç€è¦½å™¨ä¸æ”¯æ´å®šä½');
        return;
      }

      log('é–‹å§‹è«‹æ±‚å®šä½â€¦');
      navigator.geolocation.getCurrentPosition(
        pos => {
          log('âœ… å®šä½æˆåŠŸ');
          log('lat=' + pos.coords.latitude);
          log('lon=' + pos.coords.longitude);
          log('accuracy=' + pos.coords.accuracy + 'm');
        },
        err => {
          log('âŒ å®šä½å¤±æ•—');
          log('code=' + err.code);
          log('message=' + err.message);
        },
        {
          enableHighAccuracy: true,
          timeout: 15000,
          maximumAge: 0
        }
      );
    };
  </script>
</body>
</html>
